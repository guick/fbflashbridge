<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- 

	Pieter Michels - 2009
	
 -->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://www.facebook.com/2008/fbml">
	<head>
		<title>Flash Bridge for Facebook Connect - Pieter Michels</title>
		
		<link rel="stylesheet" href="assets/css/style.css" media="all" />
		
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
		<script src="assets/js/FBFlashBridge-0.1.js" type="text/javascript"></script>
		<script src="assets/js/json2.js" type="text/javascript"></script>
		
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/swfobject/2/swfobject.js"></script>
		<script type="text/javascript">
			
			var flashvars = { };
			var params = {allowFullScreen : true, allowScriptAccess: "always", wmode: "transparent"};
			var attributes = {id: "flash_flash"};
			
			swfobject.embedSWF("assets/swf/FBFlashBridge.swf", "flash_alternative", "545", "500", "9.0.0", "assets/swf/playerProductInstall.swf", flashvars, params, attributes);
			
		</script>
		
	</head>
	<body>
		
		<script src="http://static.ak.connect.facebook.com/js/api_lib/v0.4/FeatureLoader.js.php" type="text/javascript"></script>
		
		<!-- -------------------------------------------------------------------------------------------- -->
		
		<div id="flash_alternative">
			
		</div>
		
		<div id="flash_content">
		
			<a href="javascript:_fbFlashBridge.login();">Log In</a>
			
			<br />
			
			<a href="javascript:_fbFlashBridge.logout();">Log Out</a>
			
			<br /><br />
			
			<a href="javascript:_fbFlashBridge.askPermissions(prompt('Enter permissions (comma separated)', 'read_stream, email'));">Ask Permissions</a>
			
			<br /><br />
			
			<a href="javascript:_fbFlashBridge.publish('FBFlashBridge');">Set Status</a>
			
			<br />
			
			<a href="javascript:_fbFlashBridge.publish('FBFlashBridge <a href=\'http://www.google.be\'>going</a>', {}, null, null, 'What are you going to say?');">Publish Story</a>
			
			<br />
			
			<a href="javascript:_fbFlashBridge.getStream(null);">Get Stream of Logged In User</a>
			
			<br />
			
			<a href="javascript:_fbFlashBridge.getStream(prompt('Enter uid', ''));">Get Stream of uid</a>
			
			<br />
			
			<a href="javascript:_fbFlashBridge.getStreamComments(prompt('Enter post_id', '531225411_175985616729'));">Get Stream Comments</a>
			
			<br /><br />
			
			<a href="javascript:_fbFlashBridge.getFriends();">Get Friends</a>

			<br />
			
			<a href="javascript:_fbFlashBridge.getAppUsers();">Get App Users</a>
			
			<br /><br />
			
			<a href="javascript:_fbFlashBridge.getUsersInfo(prompt('Enter comma separated list of uid', '1717796132, 100000123296201, 100000160539135, 100000449340953'));">Get Users Info</a>
			
			<br /><br />
			
			<a href="javascript:_fbFlashBridge.getUserInfo(['uid', 'pic_square', 'first_name', 'last_name', 'about_me', 'sex', 'name', 'proxied_email']);">Get User info of logged in user</a>
			
			<br /><br />

			<a href="javascript:_fbFlashBridge.sendEmail(prompt('Array of ids', '627461028, 1717796132, 100000123296201, 100000160539135, 100000449340953'), prompt('Your subject', 'Test subject'), prompt('Your Message', 'Test message'));">Send E-mail</a>
			
			<br />
			
			<a href="javascript:_fbFlashBridge.sendNotification(prompt('Array of ids', '627461028, 1717796132, 100000123296201, 100000160539135, 100000449340953'), prompt('Your notification message', 'Test notification'));">Send notification</a>
			
			<br />
			
			<a href="javascript:_fbFlashBridge.getNotifications();">Get Notifications of logged in user</a>
			
			<br /><br />
			
			<a href="javascript:_fbFlashBridge.getAlbums(prompt('Fill in user id or leave blank for current user'));">Get Albums of user</a>
			
			<br />
			
			<a href="javascript:_fbFlashBridge.getAlbumPhotos(prompt('Albumid?', ''));">Get photos from album</a>
			
			<br />
			
			<a href="javascript:_fbFlashBridge.createAlbum(prompt('Name?'), prompt('Location?'), prompt('Description?'));">Create album for current user</a>
			
			<br />
			
		</div>
		
		
		<!-- -------------------------------------------------------------------------------------------- -->
		
		<script type="text/javascript">

			var _fbFlashBridge;

			$(document).ready(function() {
				setTimeout(delayedInit, 500);
			});
			
			function delayedInit() {
			
				_fbFlashBridge = new FBFlashBridge("FBFlashBridge", "ab00ea694dbb0fcf4f1b23131678cd4a", "http://fbflashbridge.wellconsidered.be/xd_receiver.htm", swfobject.getObjectById("flash_flash"));
				
				_fbFlashBridge.init();
				
				_fbFlashBridge.addEventListener(_fbFlashBridge.LOGGED_IN, function(){
					trace(_fbFlashBridge.isLoggedIn());
				});
				
				_fbFlashBridge.addEventListener(_fbFlashBridge.LOGGED_OUT, function(){
					trace("Logged Out (" + _fbFlashBridge.isLoggedIn() + ")");
				});
				
			}

		</script>
	
	</body>
</html>
